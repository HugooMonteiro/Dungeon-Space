#include <stdio.h>
#include <stdlib.h>
#include <conio.h>
#include <string.h>
#include <time.h>
#include <unistd.h>
#include <windows.h> // Para reproducaoo de som no Windows

// Definicao das notas musicais
#define C 523
#define D 587
#define D_SHARP 622
#define F_SHARP 739
#define G 784
#define G_SHARP 830
#define A_SHARP 932

// Definicao das duracoes das notas
#define HALF 500
#define QUARTER 250
#define EIGHTH 125
#define SIXTEENTH 63

#define MAP_1_WIDTH 15
#define MAP_1_HEIGHT 15
#define MAP_2_WIDTH 30
#define MAP_2_HEIGHT 30
#define MAP_3_WIDTH 60
#define MAP_3_HEIGHT 60

// Funcao para reproduzir uma nota
void playTone(int frequency, int duration) {
    Beep(frequency, duration);
}
// FunÃƒÂ§ÃƒÂ£o para reproduzir 
void playDarkIntroTheme() {
    // Notas do tema 
    int DarkIntroTheme[] = { D_SHARP, F_SHARP, G_SHARP, D_SHARP, A_SHARP, G_SHARP, F_SHARP, D_SHARP,
                              F_SHARP, G_SHARP, A_SHARP, F_SHARP, D_SHARP, G, F_SHARP, D_SHARP };

    // DuraÃƒÂ§ÃƒÂµes das notas correspondentes
    int NoteDurations[] = { EIGHTH, QUARTER, QUARTER, QUARTER, HALF, EIGHTH, QUARTER, QUARTER,
                            QUARTER, QUARTER, QUARTER, QUARTER, QUARTER, QUARTER, QUARTER, HALF };

    // Reproduz as notas uma a uma
    int NumNotes = sizeof(DarkIntroTheme) / sizeof(DarkIntroTheme[0]);
    int i;
    for (i = 0; i < NumNotes; i++) {
        playTone(DarkIntroTheme[i], NoteDurations[i]);
        Sleep(50); // Pausa entre as notas
    }
}

void INTRO() {
	system("color 06");
    printf(" ______            _        _______  _______  _______  _          _______  _______  _______  _______  _______           \n");
    printf("(  __  \\ |\\     /|( (    /|(  ____ \\(  ____ \\(  ___  )( (    /|  (  ____ \\(  ____ )(  ___  )(  ____ \\(  ____ \\  \n");
    printf("| (  \\  )| )   ( ||  \\  ( || (    \\/| (    \\/| (   ) ||  \\  ( |  | (    \\/| (    )|| (   ) || (    \\/| (    \\/  \n");
    printf("| |   ) || |   | ||   \\ | || |      | (__    | |   | ||   \\ | |  | (_____ | (____)|| (___) || |      | (__           \n");
    printf("| |   | || |   | || (\\ \\) || | ____ |  __)   | |   | || (\\ \\) |  (_____  )|  _____)|  ___  || |      |  __)        \n");
    printf("| |   ) || |   | || | \\   || | \\_  )| (      | |   | || | \\   |        ) || (      | (   ) || |      | (            \n");
    printf("| (__/  )| (___) || )  \\  || (___) || (____/\\| (___) || )  \\  |  /\\____) || )      | )   ( || (____/\\| (____/\\   \n");
    printf("(______/ (_______)|/    )_)(_______)(_______/(_______)|/    )_)  \\_______)|/       |/     \\|(_______/(_______/       \n");

    usleep(1000000); // Espera por 1 segundo
    
    // Reproduz o tema dark da Intro
    playDarkIntroTheme();

    printf("\n\n\n\n");
    printf("\t\t\t\t               Loading...\n\n\n");
    usleep(500000); // Espera por 0,5 segundos

    printf("\t\t\t\t\t\t[    ]");
    fflush(stdout);
    usleep(500000); // Espera por 0,5 segundos

    printf("\r\t\t\t\t\t\t[==  ]");
    fflush(stdout);
    usleep(500000); // Espera por 0,5 segundos

    printf("\r\t\t\t\t\t\t[====]");
    fflush(stdout);
    usleep(500000); // Espera por 0,5 segundos
	
    printf("\n\n\n");
    system("cls || clear");
}

//Void para delay
void delay(int segundos)
{
	int milli_seconds = 1000 * segundos;
	
	clock_t start_time = clock();
	
	while (clock() < start_time + milli_seconds);
	
}
//variaveis do player
typedef struct{
	int player_x;
	int player_y;
	int has_key;
	int vida;
}Player;

Player player1; //Player no mapa 1
Player player2; //Player no mapa 2
Player player3; //Player no mapa 3

//variaveis dos monstros
typedef struct{
	int monster_x;
	int monster_y;
	int direction;
}Monster;

Monster monster1A; //Primeiro monstro nivel 1
Monster monster1B; //Segundo monstro nivel 1
Monster monster2A;
Monster monster2B;

void MENU();

void MAP_3() {
	player3.vida = 3;
	player3.player_x = 10;
	player3.player_y = 26;
	
	char map_3[MAP_3_HEIGHT][MAP_3_WIDTH] = {
    /*00*/{'*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*'},
    /*01*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*02*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*03*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*04*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*05*/{'*', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*06*/{'*', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*07*/{'*', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*08*/{'*', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*09*/{'*', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*10*/{'*', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*11*/{'*', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', '>', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*12*/{'*', ' ', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*13*/{'*', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*14*/{'*', ' ', ' ', ' ', '#', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*15*/{'*', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*17*/{'*', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*'},
    /*18*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '<', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', '*'},
    /*19*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', '*', ' ', ' ', '*'},
    /*20*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', '*', ' ', ' ', '*'},
    /*21*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*22*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '*'},
    /*23*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', '*'},
    /*24*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', '*'},
    /*25*/{'*', '*', '*', '*', '*', '*', '*', ' ', ' ', ' ', ' ', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '#', ' ', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', '*'},
    /*26*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', '#', ' ', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', '#', ' ', ' ', ' ', '*'},
    /*27*/{'*', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '*'},
    /*28*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', '#', '#', '#', ' ', ' ', ' ', ' ', '*'},
    /*29*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', '#', ' ', '#', ' ', '#', ' ', '#', '#', '#', '#', '#', '#', ' ', '#', ' ', '#', ' ', '#', ' ', '#', ' ', ' ', '#', ' ', ' ', ' ', '#', ' ', ' ', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', '*'},
    /*31*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', '#', ' ', '#', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', '*'},
    /*32*/{'*', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', '#', ' ', '#', '#', '#', '#', ' ', '#', ' ', '#', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*33*/{'*', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', '#', ' ', '#', ' ', '#', '#', '#', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*34*/{'*', ' ', ' ', '#', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', '#', '#', '#', '#', '#', '#', '#', '#', ' ', '#', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', '*'},
    /*34*/{'*', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', '*'},
    /*35*/{'*', ' ', '#', ' ', ' ', '#', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', ' ', '#', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', '#', ' ', ' ', ' ', '#', '#', '*'},
    /*36*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*37*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*38*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*'},
    /*39*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', '*'},
    /*40*/{'*', '*', '*', '*', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', '*'},
    /*41*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', '#', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', '*'},
    /*42*/{'*', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', '*'},
    /*43*/{'*', ' ', ' ', ' ', '#', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', '*'},
    /*44*/{'*', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', '*'},
    /*45*/{'*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', ' ', '*', '*', '*', '*', '*', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', '*'},
    /*46*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', '*'},
    /*47*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', '*'},
    /*48*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', '*'},
    /*49*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', ' ', ' ', '*'},
    /*50*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', ' ', '*', ' ', ' ', '*'},
    /*51*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', '*'},
    /*52*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', ' ', ' ', '*'},
    /*53*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*54*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*55*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*56*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*57*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 'O', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*58*/{'*', 'G', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*59*/{'*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*'},
    	  //0    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30   31   32   33   34   35   36   37   38   39   40   41   42   43   44   45   46   47   48   49   50   51   52   53   54   55   56   57   58   59
};
	monster1A.monster_x = 30;
    monster1A.monster_y = 56;
    
    monster1B.monster_x = 30;
    monster1B.monster_y = 2;
	
	monster2A.monster_x = 1;
    monster2A.monster_y = 43;
    
    monster2B.monster_x = 58;
    monster2B.monster_y = 17;
    
    map_3[01][32] = '@';
    map_3[29][29] = 'D';
	
	char input;
	
		
		while(1){
			
		system("cls || clear");
		
		int y;
		int x;
    	for (y = 0; y < MAP_3_HEIGHT; y++) {
        	for (x = 0; x < MAP_3_WIDTH; x++) {
        		
            	if (x == player3.player_x && y == player3.player_y) {
                printf("& ");}
                
                else if (x == monster1A.monster_x && y == monster1A.monster_y) {
                printf("m ");}
                
                else if (x == monster1B.monster_x && y == monster1B.monster_y) {
                printf("m ");}
                
				else if (x == monster2A.monster_x && y == monster2A.monster_y) {
                printf("M ");} 
                
				else if (x == monster2B.monster_x && y == monster2B.monster_y) {
                printf("M ");}
                
				else {
                printf("%c ", map_3[y][x]);
            	}
        	}
        printf("\n");
    	}
    
    printf("Vida: %d\n\n", player3.vida);
    if(player3.vida==0){
					system("cls || clear");

					printf("Voce so tinha um trabalho...\nSO UM!!!\n\n"); delay(2);
					printf("Retornando pro menu..."); delay(2);
					player3.vida = player3.vida + 3; 

					MENU();
				}
		
        input = getch();
		if (map_3[player3.player_y][player3.player_x] == '=') {
                    //MAP_2();
				}
        switch (input) {
            case 'a':
                if (map_3[player3.player_y][player3.player_x - 1] != '*' && map_3[player3.player_y][player3.player_x - 1] != '#') {
                    player3.player_x--;
                }
                else if (map_3[player3.player_y][player3.player_x - 1] == '#'){
				player3.vida = player3.vida - 1;   //dano//
				}
                break;
            case 'd':
                if ((map_3[player3.player_y][player3.player_x + 1] != '*' && map_3[player3.player_y][player3.player_x + 1] != '#') &&
                    !(map_3[player3.player_y][player3.player_x] == 'D' && !player3.has_key)) {
                    player3.player_x++;
                }
                else if(map_3[player3.player_y][player3.player_x + 1] == '#'){
				player3.vida = player3.vida - 1;
				}
				break; 
            case 'w':
                if (map_3[player3.player_y - 1][player3.player_x] != '*' && map_3[player3.player_y - 1][player3.player_x] != '#') {
                    player3.player_y--;
                }
                else if (map_3[player3.player_y - 1][player3.player_x] == '#'){
				player3.vida = player3.vida - 1;
				}
                break;
            case 's':
                if (map_3[player3.player_y + 1][player3.player_x] != '*' && map_3[player3.player_y + 1][player3.player_x] != '#') {
                    player3.player_y++;
                }
                else if (map_3[player3.player_y + 1][player3.player_x] == '#'){
				player3.vida = player3.vida - 1;
				}
                break;
                
            case 'i':
                if (map_3[player3.player_y][player3.player_x] == '@') {
                    map_3[player3.player_y][player3.player_x] = ' ';
                    player3.has_key = 1;
                    printf("=========================\n// Voce pegou a chave! //\n========================="); delay(1);                 
                }
                
                else if (map_3[player3.player_y][player3.player_x] == 'D' && player3.has_key) {
                    map_3[player3.player_y][player3.player_x] = '=';
				}
				else if (map_3[player3.player_y][player3.player_x] == '='){
                	system("cls");
                	printf("vc ganhou!!!"); delay(2);
                	MENU();
                }
				else if (map_3[player3.player_y][player3.player_x] == 'O') {
					map_3[37][55] = ' ';
				}
				break;						  
			}
			if (map_3[player3.player_y][player3.player_x] == '>' ) {
                player3.player_y=11;
                player3.player_x=30;
        	}
        	else if (map_3[player3.player_y][player3.player_x] == '<') {
                player3.player_y=43;
                player3.player_x=21;
        }
        
        int dx = player3.player_x - monster2A.monster_x;
    	int dy = player3.player_y - monster2A.monster_y;

    	int step_x = (dx > 0) ? 1 : -1;
    	int step_y = (dy > 0) ? 1 : -1;

    	// Verifica se o monstro alcanÃ§ou o jogador
    	if (dx == 0 && dy == 0) {
       		player3.vida = player3.vida - 1; 
    	}

    // Movimento do monstro em direÃ§Ã£o ao jogador
    	if (abs(dx) > abs(dy)) {
        	if (map_3[monster2A.monster_y][monster2A.monster_x + step_x] != '*' && map_3[monster2A.monster_y][monster2A.monster_x + step_x] != '#') {
            	monster2A.monster_x += step_x;
        	}
    	} else {
        	if (map_3[monster2A.monster_y + step_y][monster2A.monster_x] != '*' && map_3[monster2A.monster_y + step_y][monster2A.monster_x] != '#') {
            monster2A.monster_y += step_y;
        	}
    	}
    	
    	int dx2 = player3.player_x - monster2B.monster_x;
    	int dy2 = player3.player_y - monster2B.monster_y;

    	int step_x2 = (dx2 > 0) ? 1 : -1;
    	int step_y2 = (dy2 > 0) ? 1 : -1;

    	// Verifica se o monstro alcanÃ§ou o jogador
    	if (dx2 == 0 && dy2 == 0) {
       		player3.vida = player3.vida - 1; 
    	}

    // Movimento do monstro em direÃ§Ã£o ao jogador
    	if (abs(dx2) > abs(dy2)) {
        	if (map_3[monster2B.monster_y][monster2B.monster_x + step_x2] != '*' && map_3[monster2B.monster_y][monster2B.monster_x + step_x2] != '#') {
            	monster2B.monster_x += step_x2;
        	}
    	} else {
        	if (map_3[monster2B.monster_y + step_y2][monster2B.monster_x] != '*' && map_3[monster2B.monster_y + step_y2][monster2B.monster_x] != '#') {
            	monster2B.monster_y += step_y2;
        	}
    	}
    	
    	monster1A.direction = rand() % 4;
	
    	switch (monster1A.direction) {
        	case 0: 
        		if (map_3[monster1A.monster_y][monster1A.monster_x - 1] != '*' && map_3[monster1A.monster_y][monster1A.monster_x - 1] != '#' ) {
                    monster1A.monster_x--;
                }
            	break;
        	case 1: 
        		if (map_3[monster1A.monster_y][monster1A.monster_x + 1] != '*' && map_3[monster1A.monster_y][monster1A.monster_x + 1] != '#' ) {
        		    monster1A.monster_x++;
			    }
            	break;
        	case 2: 
            	if (map_3[monster1A.monster_y - 1][monster1A.monster_x] != '*' && map_3[monster1A.monster_y - 1][monster1A.monster_x] != '#' ) {
                    monster1A.monster_y--;
                }
            	break;
        	case 3:
        		if (map_3[monster1A.monster_y + 1][monster1A.monster_x] != '*' && map_3[monster1A.monster_y + 1][monster1A.monster_x] != '#'  ) {
                    monster1A.monster_y++;
                }
            	break;   
    		}
    	
    		monster1B.direction = rand() % 4;
	
    	switch (monster1B.direction) {
        	case 0: 
        		if (map_3[monster1B.monster_y][monster1B.monster_x - 1] != '*' && map_3[monster1B.monster_y][monster1B.monster_x - 1] != '#' ) {
                    monster1B.monster_x--;
                }
           		break;
        	case 1: 
        		if (map_3[monster1B.monster_y][monster1B.monster_x + 1] != '*' && map_3[monster1B.monster_y][monster1B.monster_x + 1] != '#' ) {
        		    monster1B.monster_x++;
			    }
            	break;
        	case 2: 
            	if (map_3[monster1B.monster_y - 1][monster1B.monster_x] != '*' && map_3[monster1B.monster_y - 1][monster1B.monster_x] != '#' ) {
                    monster1B.monster_y--;
                }
            	break;
        	case 3:
        		if (map_3[monster1B.monster_y + 1][monster1B.monster_x] != '*' && map_3[monster1B.monster_y + 1][monster1B.monster_x] != '#'  ) {
                    monster1B.monster_y++;
                }
            	break;   
    		}
			if (player3.player_x == monster1A.monster_x && player3.player_y == monster1A.monster_y || player3.player_x == monster1B.monster_x && player3.player_y == monster1A.monster_y) player3.vida--;	
    }
}

void MAP_2() {
	player2.vida = 3;
	player2.player_x = 1;
	player2.player_y = 1;
	
	char map_2[MAP_2_HEIGHT][MAP_2_WIDTH] = {
    /*00*/{'*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*'},
    /*01*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '#', '#', '#', '#', '#', '#', '#', '*'},
    /*02*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '#', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*03*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '#', ' ', '#', '#', '#', '#', '#', '*'},
    /*04*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', 'O', '*'},
    /*05*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', '#', '#', '*'},
    /*06*/{'*', '*', '*', '*', '*', '*', '*', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '*', '*', '*', '*', '*', '*', '*', '*'},
    /*07*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*08*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*09*/{'*', ' ', ' ', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', ' ', ' ', '*'},
    /*10*/{'*', ' ', ' ', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', ' ', ' ', '*'},
    /*11*/{'*', ' ', ' ', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', ' ', ' ', '*'},
    /*12*/{'*', ' ', ' ', '#', '#', '#', '#', ' ', ' ', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', ' ', ' ', '#', '#', '#', '#', ' ', ' ', '*'},
    /*13*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*14*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*15*/{'*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '#', '#', '#', '#', ' ', ' ', '#', '#', '#', '#', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*'},
    /*16*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*17*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*18*/{'*', ' ', ' ', '#', '#', '#', '#', ' ', ' ', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', ' ', ' ', '#', '#', '#', '#', ' ', ' ', '*'},
    /*19*/{'*', ' ', ' ', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', ' ', ' ', '*'},
    /*20*/{'*', ' ', ' ', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', ' ', ' ', '*'},
    /*21*/{'*', ' ', ' ', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', ' ', ' ', '*'},
    /*22*/{'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    /*23*/{'*', '*', '*', '*', '*', '*', '*', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '*', '*', '*', '*', '*', '*', '*', '*'},
    /*24*/{'*', '#', '#', '#', '#', '#', ' ', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', '#', '*'},
    /*25*/{'*', '#', ' ', ' ', ' ', ' ', ' ', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '*'},
    /*26*/{'*', '#', ' ', '#', '#', '#', '#', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '*', '#', '#', '#', '#', ' ', '#', '*'},
    /*27*/{'*', ' ', ' ', '#', ' ', ' ', ' ', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '*', ' ', ' ', ' ', '#', ' ', ' ', '*'},
    /*28*/{'*', ' ', '#', '#', ' ', ' ', ' ', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', '*', 'G', ' ', ' ', '#', '#', ' ', '*'},
    /*29*/{'*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*'}
    	  //0    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16   17   18   19   20   21   22   23   24   25   26   27   28   29   
};
	
	monster1A.monster_x = MAP_2_WIDTH - 14;
    monster1A.monster_y = MAP_2_HEIGHT - 13;
    monster1B.monster_x = MAP_2_WIDTH - 16;
    monster1B.monster_y = MAP_2_HEIGHT - 16;
  
	map_2[28][1] = '@';
    map_2[2][29] = 'D';

	char input;
		
		while(1){
		
		system("cls || clear");
		
		int y;
		int x;
		
    	for (y = 0; y < MAP_2_HEIGHT; y++) {
        	for (x = 0; x < MAP_2_WIDTH; x++) {
            	if (x == player2.player_x && y == player2.player_y) {
                printf("& ");
            	} 
			
				else if (x == monster1A.monster_x && y == monster1A.monster_y) {
                printf("m ");
            	}
            
            	else if (x == monster1B.monster_x && y == monster1B.monster_y) {
                printf("m ");
            	}
			
				else {
                printf("%c ", map_2[y][x]);
            	}
        	}
        printf("\n");
    }
    
    printf("Vida: %d\n\n", player2.vida);
    if(player2.vida==0){
					system("cls || clear");

					printf("Voce so tinha um trabalho...\nSO UM!!!\n\n"); delay(2);
					printf("Retornando pro menu..."); delay(2);
					player2.vida = player2.vida + 3; 

					MENU();
				}
		
        input = getch();
		
		if (map_2[player2.player_y][player2.player_x] == '=') {
                    MAP_3();
				}
		
        switch (input) {
            case 'a':
                if (map_2[player2.player_y][player2.player_x - 1] != '*' && map_2[player2.player_y][player2.player_x - 1] != '#') {  //fisica//
                    player2.player_x--;
                }
                else if (map_2[player2.player_y][player2.player_x - 1] == '#'){
				player2.vida = player2.vida - 1;   //dano//
				}
                break;
            case 'd':
                if ((map_2[player2.player_y][player2.player_x + 1] != '*' && map_2[player2.player_y][player2.player_x + 1] != '#') &&
                    !(map_2[player2.player_y][player2.player_x] == 'D' && !player2.has_key)) {
                    player2.player_x++;
                }
                else if(map_2[player2.player_y][player2.player_x + 1] == '#'){
				player2.vida = player2.vida - 1;
				}
                break;
            case 'w':
                if (map_2[player2.player_y - 1][player2.player_x] != '*' && map_2[player2.player_y - 1][player2.player_x] != '#') {
                    player2.player_y--;
                }
                else if (map_2[player2.player_y - 1][player2.player_x] == '#'){
				player2.vida = player2.vida - 1;
				}
                break;
            case 's':
                if (map_2[player2.player_y + 1][player2.player_x] != '*' && map_2[player2.player_y + 1][player2.player_x] != '#') {
                    player2.player_y++;
                }
                else if (map_2[player2.player_y + 1][player2.player_x] == '#'){
				player2.vida = player2.vida - 1;
				}
                break;
            case 'i':
                if (map_2[player2.player_y][player2.player_x] == '@') {
                    map_2[player2.player_y][player2.player_x] = ' ';
                    player2.has_key = 1;
                    printf("=========================\n// Voce pegou a chave! //\n========================="); delay(1);                 
                }
                
                else if (map_2[player2.player_y][player2.player_x] == 'D' && player2.has_key) {
                    map_2[player2.player_y][player2.player_x] = '=';
                    printf("=========================\n// Voce abriu a porta! //\n========================="); delay(1);
				}
				
				else if (map_2[player2.player_y][player2.player_x] == map_2[4][28] && map_2[4][28] == 'O') {
					map_2[4][28] = ' ';
					map_2[28][28] = 'O';
        			//paredes meio esquerdo
        			map_2[12][11] = ' ';
                	map_2[12][12] = ' ';
                	
                	//espinhos meio esquerdo
        			map_2[13][11] = ' ';
                	map_2[13][12] = ' ';
                	
                	//espinhos meio direito 
                	map_2[17][17] = ' ';
                	map_2[17][18] = ' ';
                	
                	//paredes meio direito 
                	map_2[18][17] = ' ';
                	map_2[18][18] = ' ';

					}
					
				else if (map_2[player2.player_y][player2.player_x] == map_2[28][28] && map_2[28][28] == 'O') {

              	//lado esquerdo inferior
                	map_2[24][7] = ' ';
                	map_2[24][8] = ' ';
                	map_2[25][7] = ' ';
                	map_2[25][8] = ' ';
					}								 
				}
		
		
		//Primeiro monstro nivel 1				
		monster1A.direction = rand() % 4;
	
    	switch (monster1A.direction) {
        	case 0: 
        		if (map_2[monster1A.monster_y][monster1A.monster_x - 1] != '*' && map_2[monster1A.monster_y][monster1A.monster_x - 1] != '#' ) {
                    monster1A.monster_x--;
                }
            	break;
        	case 1: 
        		if (map_2[monster1A.monster_y][monster1A.monster_x + 1] != '*' && map_2[monster1A.monster_y][monster1A.monster_x + 1] != '#' ) {
        		    monster1A.monster_x++;
			    }
            	break;
        	case 2: 
            	if (map_2[monster1A.monster_y - 1][monster1A.monster_x] != '*' && map_2[monster1A.monster_y - 1][monster1A.monster_x] != '#' ) {
                    monster1A.monster_y--;
                }
            	break;
        	case 3:
        		if (map_2[monster1A.monster_y + 1][monster1A.monster_x] != '*' && map_2[monster1A.monster_y + 1][monster1A.monster_x] != '#'  ) {
                    monster1A.monster_y++;
                }
            	break;   
    		}
    
    	//Segundo monstro nivel 1    
		monster1B.direction = rand() % 4;
	
    	switch (monster1B.direction) {
        	case 0: 
        		if (map_2[monster1B.monster_y][monster1B.monster_x - 1] != '*' && map_2[monster1B.monster_y][monster1B.monster_x - 1] != '#' ) {
                    monster1B.monster_x--;
                }
           		break;
        	case 1: 
        		if (map_2[monster1B.monster_y][monster1B.monster_x + 1] != '*' && map_2[monster1B.monster_y][monster1B.monster_x + 1] != '#' ) {
        		    monster1B.monster_x++;
			    }
            	break;
        	case 2: 
            	if (map_2[monster1B.monster_y - 1][monster1B.monster_x] != '*' && map_2[monster1B.monster_y - 1][monster1B.monster_x] != '#' ) {
                    monster1B.monster_y--;
                }
            	break;
        	case 3:
        		if (map_2[monster1B.monster_y + 1][monster1B.monster_x] != '*' && map_2[monster1B.monster_y + 1][monster1B.monster_x] != '#'  ) {
                    monster1B.monster_y++;
                }
            	break;   
    		}
					
		if (player2.player_x == monster1A.monster_x && player2.player_y == monster1A.monster_y || player2.player_x == monster1B.monster_x && player2.player_y == monster1A.monster_y) player2.vida--;
	}
    }
void MAP_1() {
	player1.vida = 3;
	player1.player_x = 1;
	player1.player_y = 1;
	
	char map_1[MAP_1_HEIGHT][MAP_1_WIDTH] = {
    {'*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*'},
    {'*', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', '*'},
    {'*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', '*'},
    {'*', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', '*'},
    {'*', '*', '*', '*', '*', '*', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', '*'},
    {'*', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', '*', ' ', ' ', '*'},
    {'*', ' ', ' ', '*', ' ', '*', ' ', '*', '*', '*', '*', '*', '*', ' ', '*'},
    {'*', ' ', ' ', '*', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*'},
    {'*', ' ', ' ', '*', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*'},
    {'*', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*'},
    {'*', ' ', '*', '*', '*', '*', ' ', '*', '*', '*', ' ', ' ', '*', ' ', '*'},
    {'*', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', '*', ' ', '*'},
    {'*', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', '*', '*', '*', ' ', '*'},
    {'*', ' ', ' ', ' ', ' ', '*', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '*'},
    {'*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*'}
	};
	
	map_1[13][4] = '@'; 
    map_1[2][14] = 'D';
	
	char input;
	
		
		while(1){
			
		system("cls || clear");
		
		int y;
		int x;
		
    	for (y = 0; y < MAP_1_HEIGHT; y++) {
        	for (x = 0; x < MAP_1_WIDTH; x++) {
            	if (x == player1.player_x && y == player1.player_y) {
                printf("& ");
            	} else {
                printf("%c ", map_1[y][x]);
            	}
        	}
        printf("\n");
    	}
    
    printf("Vida: %d\n\n", player1.vida);
		
        input = getch();
		if (map_1[player1.player_y][player1.player_x] == '=') {
                    MAP_2();
				}
				
        switch (input) {
            case 'a':
                if (map_1[player1.player_y][player1.player_x - 1] != '*' ) {
                    player1.player_x--;
                }
                break;
            case 'd':
                if ((map_1[player1.player_y][player1.player_x + 1] != '*' ) &&
                    !(map_1[player1.player_y][player1.player_x] == 'D' && !player1.has_key)) {
                    player1.player_x++;
                }
                break;
            case 'w':
                if (map_1[player1.player_y - 1][player1.player_x] != '*' ) {
                    player1.player_y--;
                }
                break;
            case 's':
                if (map_1[player1.player_y + 1][player1.player_x] != '*' ) {
                    player1.player_y++;
                }
                break;
            case 'i':
                if (map_1[player1.player_y][player1.player_x] == '@') {
                    map_1[player1.player_y][player1.player_x] = ' ';
                    player1.has_key = 1;
                    printf("=========================\n// Voce pegou a chave! //\n========================="); delay(1);
                    
                }
				     else if (map_1[player1.player_y][player1.player_x] == 'D' && player1.has_key) {
                    map_1[player1.player_y][player1.player_x] = '=';
                    printf("=========================\n// Voce abriu a porta! //\n========================="); delay(1);
                    printf("\n");
                    printf("=======================\n// Ande para avancar //\n======================="); delay(2);
				}
				
                break;
        }
    }
}

void TUTORIAL(){
	
	system("cls || clear");
	
	printf("TUTORIAL:"); 
	
	printf("\n\n JOGO:\n\n"); 
	printf(" O jogo eh do estilo aventura/puzzle onde o objetivo eh o jogador conseguir passar de tres fases. Em cada fase o jogador deve se\n"); 
	printf(" movimentar para pegar uma chave para abrir a porta fechada.\n"); 
	printf(" O jogador possui os seguintes comando:\n\n"); 
	printf("     W: O jogador movimenta uma unidade para cima;\n\n"); 
	printf("     A: O jogador movimenta uma unidade para esquerda;\n\n"); 
	printf("     S: O jogador movimenta uma unidade para baixo;\n\n");
	printf("     D: O jogador movimenta uma unidade para direita;\n\n");
	printf("     I: O jogador interage com o objeto que esta em cima.\n\n");
	
	printf("\n O jogo possui os seguintes elementos nas fases:\n\n");
	
	printf("     &: Simbolo que representa o jogador.\n\n");
	printf("     *: Simbolo que representa uma parede, o jogador ao se movimentar nao pode passar pela parede.\n\n");
	printf("     @: Simbolo que representa a chave para abrir a porta para finalizar a fase, a porta abre no momento que o jogador interage\n");
	printf("     com a chave.\n\n");
	printf("     D: Simbolo que representa a porta fechada.\n\n");
	printf("     =: Simbolo que representa a porta aberta quando o jogador interage com a chave.\n\n");
	printf("     O: Simbolo que representa um botao que o usuario pode interagir, o botao fica no chao e o jogador deve ficar em cima dele\n");
	printf("     para poder interagir.\n\n");
	printf("     #: Simbolo que representa um espinho. A fase eh reiniciada quando o jogador toca no espinho, caso a fase seja reiniciada\n");
	printf("     tres vezes, o jogo volta para o menu principal.\n\n");
	printf("     >: Simbolo que representa um teletransporte. O teletransporte sempre deve vir em pares, quando o jogador toca em um ele\n");
	printf("     eh transportado para o outro e vice-versa.\n\n");
	printf("     m: Simbolo que representa o monstro nivel 1. O mostro tem um movimento aleatorio, logo, ele movimenta um bloco para\n");
	printf("     cima ou para direita ou para esquerda ou para baixo. O monstro sempre faz uma movimentacao depois do usuario se\n");
	printf("     movimentar ou interagir com um objeto.\n\n");
	printf("     M: Simbolo que representa o monstro nivel 2. O mostro nivel dois tem uma inteligencia de se movimentar na direcao do\n");
	printf("     jogador. O monstro nao precisa saber desviar de obstaculos, ele sempre vai andar em linha reta em direcao do jogador.\n\n");
	
	printf("Deseja retornar ao menu?\n1:Sim   2: Nao");
			int escolha;
			scanf("%i", &escolha);
			if (escolha == 1){
				MENU();
            }
            else {
            	TUTORIAL();
			}
			

            
}

void MENU(){
	int escolha = 0;
	do{
	system("cls || clear");
	
	INTRO();
	printf(" ______            _        _______  _______  _______  _          _______  _______  _______  _______  _______           \n");
    printf("(  __  \\ |\\     /|( (    /|(  ____ \\(  ____ \\(  ___  )( (    /|  (  ____ \\(  ____ )(  ___  )(  ____ \\(  ____ \\  \n");
    printf("| (  \\  )| )   ( ||  \\  ( || (    \\/| (    \\/| (   ) ||  \\  ( |  | (    \\/| (    )|| (   ) || (    \\/| (    \\/  \n");
    printf("| |   ) || |   | ||   \\ | || |      | (__    | |   | ||   \\ | |  | (_____ | (____)|| (___) || |      | (__           \n");
    printf("| |   | || |   | || (\\ \\) || | ____ |  __)   | |   | || (\\ \\) |  (_____  )|  _____)|  ___  || |      |  __)        \n");
    printf("| |   ) || |   | || | \\   || | \\_  )| (      | |   | || | \\   |        ) || (      | (   ) || |      | (            \n");
    printf("| (__/  )| (___) || )  \\  || (___) || (____/\\| (___) || )  \\  |  /\\____) || )      | )   ( || (____/\\| (____/\\   \n");
    printf("(______/ (_______)|/    )_)(_______)(_______/(_______)|/    )_)  \\_______)|/       |/     \\|(_______/(_______/       \n");
    printf("\n\n\n");
	printf("\t\t\t\t\t      1: Jogar\n");
	printf("\t\t\t\t\t      2: Tutorial\n");
	printf("\t\t\t\t\t      3: Sair\n");
	
	scanf("%i", &escolha);
	if (escolha == 1){
		MAP_1();
	}
	if (escolha == 2){
		TUTORIAL();
	}
	if (escolha == 3){
		printf("Saindo do aplicativo...");
		exit (0);
	}
}
	while(escolha != 0);
}

int main(){
	srand(time(NULL));
	system("color 06");
	//intro();
	MENU();
}